{
  "dockerFile": "DevContainerFile",
  "build": {
    "args": {
      "HOST_UID": "${localEnv:HOST_UID}",
      "HOST_GID": "${localEnv:HOST_GID}",
      "HOST_USER": "${localEnv:HOST_USER}"
    }
  },
  "remoteUser": "${localEnv:HOST_USER}",
  "runArgs": [
	"--network=host",
	"--cap-add=SYS_PTRACE",
	"--security-opt=seccomp:unconfined",
	"--security-opt=apparmor:unconfined",
	"--volume=/tmp/.X11-unix:/tmp/.X11-unix",
	"--volume=/mnt/wslg:/mnt/wslg",
	"--ipc=host"
  ],
  "mounts": [
    "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached"
  ],
  "workspaceMount": "source=${localWorkspaceFolder}/src,target=/src,type=bind",
  "workspaceFolder": "/workspace",
  "containerEnv": {
    "DISPLAY": "${localEnv:DISPLAY}", // Needed for GUI try ":0" for windows
    "WAYLAND_DISPLAY": "${localEnv:WAYLAND_DISPLAY}",
    "XDG_RUNTIME_DIR": "${localEnv:XDG_RUNTIME_DIR}",
    "PULSE_SERVER": "${localEnv:PULSE_SERVER}",
    "LIBGL_ALWAYS_SOFTWARE": "1" // Needed for software rendering of opengl
  },
  // Set *default* container specific settings.json values on container create.
  "customizations": {
    "vscode": {
      "extensions": [
        "althack.ament-task-provider",
        "DotJoshJohnson.xml",
        "ms-azuretools.vscode-docker",
        "ms-python.python",
        "ms-vscode.cpptools",
        "redhat.vscode-yaml",
        "streetsidesoftware.code-spell-checker",
        "twxs.cmake",
        "yzhang.markdown-all-in-one",
        "zachflower.uncrustify"
      ]
    }
  }
}
